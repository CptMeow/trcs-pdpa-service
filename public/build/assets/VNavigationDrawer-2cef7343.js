import{k as C,B as g,az as P,af as Z,z as L,aO as F,b0 as G,au as J,b1 as K,b2 as Q,b3 as ee,b4 as te,aZ as ae,av as ne,b5 as oe,aw as le,b6 as ue,b7 as $,ay as z,b8 as ie,ao as re,b9 as se,ba as ce,aE as ve,bb as de,ae as me,aN as fe,bc as he,bd as ge,aA as we,p as M,$ as ye,T as be,F as Se}from"./main-51fa4cdd.js";import{u as Ee}from"./ssrBoot-cb3c3dbb.js";function ke(e){let{rootEl:r,isSticky:s,layoutItemStyles:u}=e;const a=C(!1),t=C(0),m=g(()=>{const f=typeof a.value=="boolean"?"top":a.value;return[s.value?{top:"auto",bottom:"auto",height:void 0}:void 0,a.value?{[f]:P(t.value)}:{top:u.value.top}]});Z(()=>{L(s,f=>{f?window.addEventListener("scroll",S,{passive:!0}):window.removeEventListener("scroll",S)},{immediate:!0})}),F(()=>{document.removeEventListener("scroll",S)});let b=0;function S(){const f=b>window.scrollY?"up":"down",l=r.value.getBoundingClientRect(),c=parseFloat(u.value.top??0),v=window.scrollY-Math.max(0,t.value-c),d=l.height+Math.max(t.value,c)-window.scrollY-window.innerHeight;l.height<window.innerHeight-c?(a.value="top",t.value=c):f==="up"&&a.value==="bottom"||f==="down"&&a.value==="top"?(t.value=window.scrollY+l.top,a.value=!0):f==="down"&&d<=0?(t.value=0,a.value="bottom"):f==="up"&&v<=0&&(t.value=l.top+v,a.value="top"),b=window.scrollY}return{isStuck:a,stickyStyles:m}}const Te=100,Me=20;function X(e){const r=1.41421356237;return(e<0?-1:1)*Math.sqrt(Math.abs(e))*r}function A(e){if(e.length<2)return 0;if(e.length===2)return e[1].t===e[0].t?0:(e[1].d-e[0].d)/(e[1].t-e[0].t);let r=0;for(let s=e.length-1;s>0;s--){if(e[s].t===e[s-1].t)continue;const u=X(r),a=(e[s].d-e[s-1].d)/(e[s].t-e[s-1].t);r+=(a-u)*Math.abs(a),s===e.length-1&&(r*=.5)}return X(r)*1e3}function xe(){const e={};function r(a){Array.from(a.changedTouches).forEach(t=>{(e[t.identifier]??(e[t.identifier]=new G(Me))).push([a.timeStamp,t])})}function s(a){Array.from(a.changedTouches).forEach(t=>{delete e[t.identifier]})}function u(a){var f;const t=(f=e[a])==null?void 0:f.values().reverse();if(!t)throw new Error(`No samples for touch id ${a}`);const m=t[0],b=[],S=[];for(const l of t){if(m[0]-l[0]>Te)break;b.push({t:l[0],d:l[1].clientX}),S.push({t:l[0],d:l[1].clientY})}return{x:A(b),y:A(S),get direction(){const{x:l,y:c}=this,[v,d]=[Math.abs(l),Math.abs(c)];return v>d&&l>=0?"right":v>d&&l<=0?"left":d>v&&c>=0?"down":d>v&&c<=0?"up":Be()}}}return{addMovement:r,endTouch:s,getVelocity:u}}function Be(){throw new Error}function Ce(e){let{isActive:r,isTemporary:s,width:u,touchless:a,position:t}=e;Z(()=>{window.addEventListener("touchstart",x,{passive:!0}),window.addEventListener("touchmove",R,{passive:!1}),window.addEventListener("touchend",B,{passive:!0})}),F(()=>{window.removeEventListener("touchstart",x),window.removeEventListener("touchmove",R),window.removeEventListener("touchend",B)});const m=g(()=>["left","right"].includes(t.value)),{addMovement:b,endTouch:S,getVelocity:f}=xe();let l=!1;const c=C(!1),v=C(0),d=C(0);let w;function V(n,o){return(t.value==="left"?n:t.value==="right"?document.documentElement.clientWidth-n:t.value==="top"?n:t.value==="bottom"?document.documentElement.clientHeight-n:H())-(o?u.value:0)}function Y(n){let o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const i=t.value==="left"?(n-d.value)/u.value:t.value==="right"?(document.documentElement.clientWidth-n-d.value)/u.value:t.value==="top"?(n-d.value)/u.value:t.value==="bottom"?(document.documentElement.clientHeight-n-d.value)/u.value:H();return o?Math.max(0,Math.min(1,i)):i}function x(n){if(a.value)return;const o=n.changedTouches[0].clientX,i=n.changedTouches[0].clientY,h=25,k=t.value==="left"?o<h:t.value==="right"?o>document.documentElement.clientWidth-h:t.value==="top"?i<h:t.value==="bottom"?i>document.documentElement.clientHeight-h:H(),T=r.value&&(t.value==="left"?o<u.value:t.value==="right"?o>document.documentElement.clientWidth-u.value:t.value==="top"?i<u.value:t.value==="bottom"?i>document.documentElement.clientHeight-u.value:H());(k||T||r.value&&s.value)&&(l=!0,w=[o,i],d.value=V(m.value?o:i,r.value),v.value=Y(m.value?o:i),S(n),b(n))}function R(n){const o=n.changedTouches[0].clientX,i=n.changedTouches[0].clientY;if(l){if(!n.cancelable){l=!1;return}const k=Math.abs(o-w[0]),T=Math.abs(i-w[1]);(m.value?k>T&&k>3:T>k&&T>3)?(c.value=!0,l=!1):(m.value?T:k)>3&&(l=!1)}if(!c.value)return;n.preventDefault(),b(n);const h=Y(m.value?o:i,!1);v.value=Math.max(0,Math.min(1,h)),h>1?d.value=V(m.value?o:i,!0):h<0&&(d.value=V(m.value?o:i,!1))}function B(n){if(l=!1,!c.value)return;b(n),c.value=!1;const o=f(n.changedTouches[0].identifier),i=Math.abs(o.x),h=Math.abs(o.y);(m.value?i>h&&i>400:h>i&&h>3)?r.value=o.direction===({left:"right",right:"left",top:"down",bottom:"up"}[t.value]||H()):r.value=v.value>.5}const E=g(()=>c.value?{transform:t.value==="left"?`translateX(calc(-100% + ${v.value*u.value}px))`:t.value==="right"?`translateX(calc(100% - ${v.value*u.value}px))`:t.value==="top"?`translateY(calc(-100% + ${v.value*u.value}px))`:t.value==="bottom"?`translateY(calc(100% - ${v.value*u.value}px))`:H(),transition:"none"}:void 0);return{isDragging:c,dragProgress:v,dragStyles:E}}function H(){throw new Error}const Re=["start","end","left","right","top","bottom"],Ve=J()({name:"VNavigationDrawer",props:{color:String,disableResizeWatcher:Boolean,disableRouteWatcher:Boolean,expandOnHover:Boolean,floating:Boolean,modelValue:{type:Boolean,default:null},permanent:Boolean,rail:{type:Boolean,default:null},railWidth:{type:[Number,String],default:56},scrim:{type:[String,Boolean],default:!0},image:String,temporary:Boolean,touchless:Boolean,width:{type:[Number,String],default:256},location:{type:String,default:"start",validator:e=>Re.includes(e)},sticky:Boolean,...K(),...Q(),...ee(),...te(),...ae({tag:"nav"}),...ne()},emits:{"update:modelValue":e=>!0,"update:rail":e=>!0},setup(e,r){let{attrs:s,emit:u,slots:a}=r;const{isRtl:t}=oe(),{themeClasses:m}=le(e),{borderClasses:b}=ue(e),{backgroundColorClasses:S,backgroundColorStyles:f}=$(z(e,"color")),{elevationClasses:l}=ie(e),{mobile:c}=re(),{roundedClasses:v}=se(e),d=ce(),w=ve(e,"modelValue",null,y=>!!y),{ssrBootStyles:V}=Ee(),Y=C(),x=C(!1),R=g(()=>e.rail&&e.expandOnHover&&x.value?Number(e.width):Number(e.rail?e.railWidth:e.width)),B=g(()=>de(e.location,t.value)),E=g(()=>!e.permanent&&(c.value||e.temporary)),n=g(()=>e.sticky&&!E.value&&B.value!=="bottom");e.expandOnHover&&e.rail!=null&&L(x,y=>u("update:rail",!y)),e.disableResizeWatcher||L(E,y=>!e.permanent&&me(()=>w.value=!y)),!e.disableRouteWatcher&&d&&L(d.currentRoute,()=>E.value&&(w.value=!1)),L(()=>e.permanent,y=>{y&&(w.value=!0)}),fe(()=>{e.modelValue!=null||E.value||(w.value=e.permanent||!c.value)});const{isDragging:o,dragProgress:i,dragStyles:h}=Ce({isActive:w,isTemporary:E,width:R,touchless:z(e,"touchless"),position:B}),k=g(()=>{const y=E.value?0:e.rail&&e.expandOnHover?Number(e.railWidth):R.value;return o.value?y*i.value:y}),{layoutItemStyles:T,layoutRect:p,layoutItemScrimStyles:q}=he({id:e.name,order:g(()=>parseInt(e.order,10)),position:B,layoutSize:k,elementSize:R,active:g(()=>w.value||o.value),disableTransitions:g(()=>o.value),absolute:g(()=>e.absolute||n.value&&typeof N.value!="string")}),{isStuck:N,stickyStyles:U}=ke({rootEl:Y,isSticky:n,layoutItemStyles:T}),W=$(g(()=>typeof e.scrim=="string"?e.scrim:null)),j=g(()=>({...o.value?{opacity:i.value*.2,transition:"none"}:void 0,...p.value?{left:P(p.value.left),right:P(p.value.right),top:P(p.value.top),bottom:P(p.value.bottom)}:void 0,...q.value}));return ge({VList:{bgColor:"transparent"}}),we(()=>{const y=a.image||e.image;return M(Se,null,[M(e.tag,ye({ref:Y,onMouseenter:()=>x.value=!0,onMouseleave:()=>x.value=!1,class:["v-navigation-drawer",`v-navigation-drawer--${B.value}`,{"v-navigation-drawer--expand-on-hover":e.expandOnHover,"v-navigation-drawer--floating":e.floating,"v-navigation-drawer--is-hovering":x.value,"v-navigation-drawer--rail":e.rail,"v-navigation-drawer--temporary":E.value,"v-navigation-drawer--active":w.value,"v-navigation-drawer--sticky":n.value},m.value,S.value,b.value,l.value,v.value],style:[f.value,T.value,h.value,V.value,U.value]},s),{default:()=>{var I,O,_,D;return[y&&M("div",{key:"image",class:"v-navigation-drawer__img"},[a.image?(I=a.image)==null?void 0:I.call(a,{image:e.image}):M("img",{src:e.image,alt:""},null)]),a.prepend&&M("div",{class:"v-navigation-drawer__prepend"},[(O=a.prepend)==null?void 0:O.call(a)]),M("div",{class:"v-navigation-drawer__content"},[(_=a.default)==null?void 0:_.call(a)]),a.append&&M("div",{class:"v-navigation-drawer__append"},[(D=a.append)==null?void 0:D.call(a)])]}}),M(be,{name:"fade-transition"},{default:()=>[E.value&&(o.value||w.value)&&!!e.scrim&&M("div",{class:["v-navigation-drawer__scrim",W.backgroundColorClasses.value],style:[j.value,W.backgroundColorStyles.value],onClick:()=>w.value=!1},null)]})])}),{isStuck:N}}});export{Ve as V};
