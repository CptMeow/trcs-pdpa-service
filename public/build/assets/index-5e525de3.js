import{_ as se}from"./MoreBtn.vue_vue_type_script_setup_true_lang-7e6c527b.js";import{d as K,k as u,o as S,b as W,w as o,p as e,q as t,P as ne,I as c,Z as re,H as E,R as $,ae as H,a4 as T,B as G,z as ie,r as ue,c as M,F as Q,a as Z,m as a,x as V,s as de,C as ce,L as me,M as pe}from"./main-51fa4cdd.js";import{_ as ve}from"./AppDrawerHeaderSection.vue_vue_type_script_setup_true_lang-e29f70ca.js";import{r as h,e as fe}from"./validators-33c369bf.js";import{V as z,d as R}from"./VCard-6736eb7f.js";import{V as Ve}from"./VForm-b98dc196.js";import{V as q,a as p}from"./VRow-4863209c.js";import{V as k}from"./VTextField-04866304.js";import{V as D}from"./VSelect-51189d3d.js";import{V as _e}from"./VNavigationDrawer-2cef7343.js";import{u as xe}from"./useUserListStore-840bd6e3.js";import{a as be}from"./formatters-8376cbd9.js";import{V as I}from"./VAvatar-57fab9ba.js";import{V as F}from"./VDivider-61df3248.js";import{V as ge}from"./VSpacer-cb64da4c.js";import{V as he}from"./VTable-99a3e630.js";import{V as J}from"./VCheckbox-05dd61ba.js";import{V as we}from"./VImg-7efce583.js";import{V as ye}from"./VChip-d98b0377.js";import{V as Ue}from"./VPagination-2ef50efb.js";import"./VMenu-c40ddae7.js";import"./forwardRefs-8f7055de.js";import"./VOverlay-20793165.js";import"./lazy-e0727b80.js";import"./easing-6b01f2d6.js";import"./transition-482c18b0.js";import"./dialog-transition-a7db0454.js";import"./VList-f23cbc26.js";import"./index-681711bc.js";import"./VInput-354f6456.js";/* empty css                   */import"./VField-e7393660.js";import"./VCounter-d16178d6.js";import"./VCheckboxBtn-af15d0af.js";import"./VSelectionControl-3a741587.js";import"./ssrBoot-cb3c3dbb.js";const Ce=K({__name:"AddNewUserDrawer",props:{isDrawerOpen:{type:Boolean}},emits:["update:isDrawerOpen","userData"],setup(j,{emit:y}){const P=j,w=u(!1),_=u(),g=u(""),x=u(""),m=u(""),b=u(""),U=u(""),f=u(""),C=u(),A=u(),L=u(),B=()=>{y("update:isDrawerOpen",!1),H(()=>{var v,r;(v=_.value)==null||v.reset(),(r=_.value)==null||r.resetValidation()})},N=()=>{var v;(v=_.value)==null||v.validate().then(({valid:r})=>{r&&(y("userData",{id:0,fullName:g.value,company:b.value,role:C.value,username:x.value,country:U.value,contact:f.value,email:m.value,currentPlan:A.value,billing:L.value,avatar:"",status:"active"}),y("update:isDrawerOpen",!1),H(()=>{var d,n;(d=_.value)==null||d.reset(),(n=_.value)==null||n.resetValidation()}))})},O=v=>{y("update:isDrawerOpen",v)};return(v,r)=>{const d=ve;return S(),W(_e,{temporary:"",width:400,location:"end",class:"scrollable-content","model-value":P.isDrawerOpen,"onUpdate:modelValue":O},{default:o(()=>[e(d,{title:"Add User",onCancel:B}),e(t(ne),{options:{wheelPropagation:!1}},{default:o(()=>[e(z,{flat:""},{default:o(()=>[e(R,null,{default:o(()=>[e(Ve,{ref_key:"refForm",ref:_,modelValue:t(w),"onUpdate:modelValue":r[9]||(r[9]=n=>c(w)?w.value=n:null),onSubmit:re(N,["prevent"])},{default:o(()=>[e(q,null,{default:o(()=>[e(p,{cols:"12"},{default:o(()=>[e(k,{modelValue:t(g),"onUpdate:modelValue":r[0]||(r[0]=n=>c(g)?g.value=n:null),rules:[t(h)],label:"Full Name"},null,8,["modelValue","rules"])]),_:1}),e(p,{cols:"12"},{default:o(()=>[e(k,{modelValue:t(x),"onUpdate:modelValue":r[1]||(r[1]=n=>c(x)?x.value=n:null),rules:[t(h)],label:"Username"},null,8,["modelValue","rules"])]),_:1}),e(p,{cols:"12"},{default:o(()=>[e(k,{modelValue:t(m),"onUpdate:modelValue":r[2]||(r[2]=n=>c(m)?m.value=n:null),rules:[t(h),t(fe)],label:"Email"},null,8,["modelValue","rules"])]),_:1}),e(p,{cols:"12"},{default:o(()=>[e(k,{modelValue:t(b),"onUpdate:modelValue":r[3]||(r[3]=n=>c(b)?b.value=n:null),rules:[t(h)],label:"Company"},null,8,["modelValue","rules"])]),_:1}),e(p,{cols:"12"},{default:o(()=>[e(k,{modelValue:t(U),"onUpdate:modelValue":r[4]||(r[4]=n=>c(U)?U.value=n:null),rules:[t(h)],label:"Country"},null,8,["modelValue","rules"])]),_:1}),e(p,{cols:"12"},{default:o(()=>[e(k,{modelValue:t(f),"onUpdate:modelValue":r[5]||(r[5]=n=>c(f)?f.value=n:null),type:"number",rules:[t(h)],label:"Contact"},null,8,["modelValue","rules"])]),_:1}),e(p,{cols:"12"},{default:o(()=>[e(D,{modelValue:t(L),"onUpdate:modelValue":r[6]||(r[6]=n=>c(L)?L.value=n:null),label:"Billing",rules:[t(h)],items:[{title:"Auto Debit",value:"Auto Debit"},{title:"Manual-Cash",value:"Manual-Cash"},{title:"Manual - Paypal",value:"Manual-Paypal"},{title:"Manual - Credit Card",value:"Manual-Credit-Card"}]},null,8,["modelValue","rules"])]),_:1}),e(p,{cols:"12"},{default:o(()=>[e(D,{modelValue:t(C),"onUpdate:modelValue":r[7]||(r[7]=n=>c(C)?C.value=n:null),label:"Select Role",rules:[t(h)],items:["Admin","Author","Editor","Maintainer","Subscriber"]},null,8,["modelValue","rules"])]),_:1}),e(p,{cols:"12"},{default:o(()=>[e(D,{modelValue:t(A),"onUpdate:modelValue":r[8]||(r[8]=n=>c(A)?A.value=n:null),label:"Select Plan",rules:[t(h)],items:["Basic","Company","Enterprise","Team"]},null,8,["modelValue","rules"])]),_:1}),e(p,{cols:"12"},{default:o(()=>[e(E,{type:"submit",class:"me-3"},{default:o(()=>[$(" Submit ")]),_:1}),e(E,{type:"reset",variant:"tonal",color:"secondary",onClick:B},{default:o(()=>[$(" Cancel ")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue","onSubmit"])]),_:1})]),_:1})]),_:1})]),_:1},8,["model-value"])}}}),Se={class:"d-flex align-center gap-2"},ke={class:"text-h6"},De={class:"text-sm"},Pe={class:"app-user-search-filter d-flex align-center"},Ae={scope:"col",style:{width:"48px"}},Le=a("th",{scope:"col"}," USER ",-1),Ne=a("th",{scope:"col"}," ROLE ",-1),$e=a("th",{scope:"col"}," PLAN ",-1),Me=a("th",{scope:"col"}," BILLING ",-1),Re=a("th",{scope:"col"}," STATUS ",-1),Be=a("th",{scope:"col"}," ACTIONS ",-1),Ee={class:"d-flex align-center"},Oe={key:1,class:"text-sm"},Te={class:"d-flex flex-column"},Ie={class:"text-sm"},Fe={class:"text-xs text-medium-emphasis"},ze={class:"text-capitalize text-base"},qe={class:"text-capitalize text-high-emphasis"},je={class:"text-base"},He={class:"text-base text-high-emphasis"},Ge={class:"text-center",style:{width:"80px"}},Qe=a("tr",null,[a("td",{colspan:"7",class:"text-center text-body-1"}," No data available ")],-1),Ze=[Qe],Je={class:"d-flex align-center",style:{width:"171px"}},Ke=a("span",{class:"text-no-wrap text-sm me-3"},"Rows per page:",-1),We={class:"d-flex align-center"},Xe={class:"text-sm font-weight-regular"},Bl=K({__name:"index",setup(j){const y=xe(),P=u(""),w=u(),_=u(),g=u(),x=u(10),m=u(1),b=u(1),U=u(0),f=u([]),C=()=>{y.fetchUsers({q:P.value,status:g.value,plan:_.value,role:w.value,perPage:x.value,currentPage:m.value}).then(i=>{f.value=i.data.users,b.value=i.data.totalPage,U.value=i.data.totalUsers}).catch(i=>{console.error(i)})};T(C),T(()=>{m.value>b.value&&(m.value=b.value)});const A=[{title:"Admin",value:"admin"},{title:"Author",value:"author"},{title:"Editor",value:"editor"},{title:"Maintainer",value:"maintainer"},{title:"Subscriber",value:"subscriber"}],L=[{title:"Basic",value:"basic"},{title:"Company",value:"company"},{title:"Enterprise",value:"enterprise"},{title:"Team",value:"team"}],B=[{title:"Pending",value:"pending"},{title:"Active",value:"active"},{title:"Inactive",value:"inactive"}],N=i=>{const s=i.toLowerCase();return s==="subscriber"?{color:"primary",icon:"bx-user"}:s==="author"?{color:"warning",icon:"bx-cog"}:s==="maintainer"?{color:"success",icon:"bx-doughnut-chart"}:s==="editor"?{color:"info",icon:"bx-pencil"}:s==="admin"?{color:"error",icon:"bx-laptop"}:{color:"primary",icon:"bx-user"}},O=i=>{const s=i.toLowerCase();return s==="pending"?"warning":s==="active"?"success":s==="inactive"?"secondary":"primary"},v=u(!1);T(()=>{m.value>b.value&&(m.value=b.value)});const r=G(()=>{const i=f.value.length?(m.value-1)*x.value+1:0,s=f.value.length+(m.value-1)*x.value;return`${i}-${s} of ${U.value}`}),d=u([]),n=u(!1),X=()=>{n.value=!n.value,n.value?f.value.forEach(i=>{d.value.includes(`check${i.id}`)||d.value.push(`check${i.id}`)}):d.value=[]};ie(d,()=>{d.value.length||(n.value=!1)},{deep:!0});const Y=i=>{if(d.value.includes(i)){const s=d.value.indexOf(i);d.value.splice(s,1)}else d.value.push(i),n.value=!0},ee=i=>{y.addUser(i),C()},le=G(()=>i=>[{title:"View",value:"view",prependIcon:"bx-show",to:{name:"apps-user-view-id",params:{id:i}}},{title:"Edit",value:"edit",prependIcon:"bx-pencil"},{title:"Delete",value:"delete",prependIcon:"bx-trash-alt"}]),te=[{icon:"bx-user",color:"primary",title:"Session",stats:"21,459",percentage:29,subtitle:"Total Users"},{icon:"bx-user-plus",color:"error",title:"Paid Users",stats:"4,567",percentage:18,subtitle:"Last week analytics"},{icon:"bx-user-check",color:"success",title:"Active Users",stats:"19,860",percentage:-14,subtitle:"Last week analytics"},{icon:"bx-user-voice",color:"warning",title:"Pending Users",stats:"237",percentage:42,subtitle:"Last week analytics"}];return(i,s)=>{const ae=ue("RouterLink"),oe=se;return S(),M("section",null,[e(q,null,{default:o(()=>[(S(),M(Q,null,Z(te,l=>e(p,{key:l.title,cols:"12",sm:"6",lg:"3"},{default:o(()=>[e(z,null,{default:o(()=>[e(R,{class:"d-flex justify-space-between"},{default:o(()=>[a("div",null,[a("span",null,V(l.title),1),a("div",Se,[a("h6",ke,V(l.stats),1),a("span",{class:de([l.percentage>0?"text-success":"text-error","text-sm"])},"("+V(l.percentage>0?`+${l.percentage}`:l.percentage)+"%)",3)]),a("span",De,V(l.subtitle),1)]),e(I,{rounded:"",variant:"tonal",color:l.color,icon:l.icon},null,8,["color","icon"])]),_:2},1024)]),_:2},1024)]),_:2},1024)),64)),e(p,{cols:"12"},{default:o(()=>[e(z,{title:"Search Filters"},{default:o(()=>[e(R,null,{default:o(()=>[e(q,null,{default:o(()=>[e(p,{cols:"12",sm:"4"},{default:o(()=>[e(D,{modelValue:t(w),"onUpdate:modelValue":s[0]||(s[0]=l=>c(w)?w.value=l:null),label:"Select Role",items:A,clearable:"","clear-icon":"bx-x"},null,8,["modelValue"])]),_:1}),e(p,{cols:"12",sm:"4"},{default:o(()=>[e(D,{modelValue:t(_),"onUpdate:modelValue":s[1]||(s[1]=l=>c(_)?_.value=l:null),label:"Select Plan",items:L,clearable:"","clear-icon":"bx-x"},null,8,["modelValue"])]),_:1}),e(p,{cols:"12",sm:"4"},{default:o(()=>[e(D,{modelValue:t(g),"onUpdate:modelValue":s[2]||(s[2]=l=>c(g)?g.value=l:null),label:"Select Status",items:B,clearable:"","clear-icon":"bx-x"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(F),e(R,{class:"d-flex flex-wrap gap-4"},{default:o(()=>[e(E,{variant:"tonal",color:"secondary","prepend-icon":"bx-arrow-from-bottom"},{default:o(()=>[$(" Export ")]),_:1}),e(ge),a("div",Pe,[e(k,{modelValue:t(P),"onUpdate:modelValue":s[3]||(s[3]=l=>c(P)?P.value=l:null),placeholder:"Search User",density:"compact",class:"me-3"},null,8,["modelValue"]),e(E,{onClick:s[4]||(s[4]=l=>v.value=!0)},{default:o(()=>[$(" Add User ")]),_:1})])]),_:1}),e(F),e(he,{class:"text-no-wrap"},{default:o(()=>[a("thead",null,[a("tr",null,[a("th",Ae,[e(J,{"model-value":t(n),indeterminate:t(f).length!==t(d).length&&!!t(d).length,class:"mx-1",onClick:X},null,8,["model-value","indeterminate"])]),Le,Ne,$e,Me,Re,Be])]),a("tbody",null,[(S(!0),M(Q,null,Z(t(f),l=>(S(),M("tr",{key:l.id},[a("td",null,[e(J,{id:`check${l.id}`,"model-value":t(d).includes(`check${l.id}`),class:"mx-1",onClick:Ye=>Y(`check${l.id}`)},null,8,["id","model-value","onClick"])]),a("td",null,[a("div",Ee,[e(I,{variant:"tonal",color:N(l.role).color,class:"me-3",size:"34"},{default:o(()=>[l.avatar?(S(),W(we,{key:0,src:l.avatar},null,8,["src"])):(S(),M("span",Oe,V(t(be)(l.fullName)),1))]),_:2},1032,["color"]),a("div",Te,[a("h6",Ie,[e(ae,{to:{name:"apps-user-view-id",params:{id:l.id}},class:"font-weight-medium user-list-name"},{default:o(()=>[$(V(l.fullName),1)]),_:2},1032,["to"])]),a("span",Fe,V(l.email),1)])])]),a("td",null,[e(I,{variant:"tonal",color:N(l.role).color,class:"me-3",size:"30"},{default:o(()=>[e(ce,{icon:N(l.role).icon,color:N(l.role).color,size:"18"},null,8,["icon","color"])]),_:2},1032,["color"]),a("span",ze,V(l.role),1)]),a("td",qe,[a("span",je,V(l.currentPlan),1)]),a("td",null,[a("span",He,V(l.billing),1)]),a("td",null,[e(ye,{color:O(l.status),density:"compact",label:"",class:"text-uppercase"},{default:o(()=>[$(V(l.status),1)]),_:2},1032,["color"])]),a("td",Ge,[e(oe,{"menu-list":t(le)(l.id),"item-props":""},null,8,["menu-list"])])]))),128))]),me(a("tfoot",null,Ze,512),[[pe,!t(f).length]])]),_:1}),e(F),e(R,{class:"d-flex flex-wrap justify-end gap-4 pa-2"},{default:o(()=>[a("div",Je,[Ke,e(D,{modelValue:t(x),"onUpdate:modelValue":s[5]||(s[5]=l=>c(x)?x.value=l:null),density:"compact",class:"per-page-select",variant:"plain",items:[10,20,30,50]},null,8,["modelValue"])]),a("div",We,[a("h6",Xe,V(t(r)),1)]),e(Ue,{modelValue:t(m),"onUpdate:modelValue":s[6]||(s[6]=l=>c(m)?m.value=l:null),size:"small","total-visible":1,length:t(b),onNext:s[7]||(s[7]=l=>d.value=[]),onPrev:s[8]||(s[8]=l=>d.value=[])},null,8,["modelValue","length"])]),_:1})]),_:1})]),_:1})]),_:1}),e(Ce,{isDrawerOpen:t(v),"onUpdate:isDrawerOpen":s[9]||(s[9]=l=>c(v)?v.value=l:null),onUserData:ee},null,8,["isDrawerOpen"])])}}});export{Bl as default};
