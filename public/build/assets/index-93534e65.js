import{_ as G}from"./MoreBtn.vue_vue_type_script_setup_true_lang-7e6c527b.js";import{_ as J}from"./AppDateTimePicker.vue_vue_type_style_index_0_lang-c623f7fa.js";import{d as K,k as c,a4 as B,B as T,z as W,r as A,q as s,o as f,c as b,p as a,w as n,I as h,m as e,H as X,R as I,C as w,F as Y,a as Z,x as r,$ as E,b as ee,L as te,M as ae,D as le}from"./main-51fa4cdd.js";import{u as oe}from"./useInvoiceStore-3d8a1dee.js";import{a as se}from"./formatters-8376cbd9.js";import{d as D,V as L}from"./VCard-6736eb7f.js";import{V as ne,a as N}from"./VRow-4863209c.js";import{V as k}from"./VSelect-51189d3d.js";import{V as ie}from"./VSpacer-cb64da4c.js";import{V as re}from"./VTextField-04866304.js";import{V as R}from"./VDivider-61df3248.js";import{V as ce}from"./VTable-99a3e630.js";import{V as U}from"./VCheckbox-05dd61ba.js";import{V as de}from"./VTooltip-869457c6.js";import{V as z}from"./VAvatar-57fab9ba.js";import{V as ue}from"./VImg-7efce583.js";import{V as me}from"./VChip-d98b0377.js";import{V as pe}from"./VPagination-2ef50efb.js";import"./VMenu-c40ddae7.js";import"./forwardRefs-8f7055de.js";import"./VOverlay-20793165.js";import"./lazy-e0727b80.js";import"./easing-6b01f2d6.js";import"./transition-482c18b0.js";import"./dialog-transition-a7db0454.js";import"./VList-f23cbc26.js";import"./VField-e7393660.js";import"./VInput-354f6456.js";import"./index-681711bc.js";import"./VCheckboxBtn-af15d0af.js";import"./VSelectionControl-3a741587.js";/* empty css                   */import"./VCounter-d16178d6.js";const ve={key:0},_e={class:"me-3"},fe={class:"d-flex align-center flex-wrap gap-6"},he={class:"invoice-list-search"},xe={scope:"col",class:"text-center"},Ve={style:{width:"1rem"}},ge=e("th",{scope:"col"}," #ID ",-1),be={scope:"col"},we=e("th",{scope:"col"}," CLIENT ",-1),ye=e("th",{scope:"col"}," TOTAL ",-1),Ie=e("th",{scope:"col"}," DATE ",-1),De=e("th",{scope:"col"}," BALANCE ",-1),ke=e("th",{scope:"col"}," ACTIONS ",-1),Pe={style:{width:"1rem"}},Se={class:"mb-0"},Ce={class:"mb-0"},$e={class:"mb-0"},Be={class:"d-flex align-center"},Te={key:1,class:"text-sm"},Ae={class:"d-flex flex-column"},Ee={class:"text-sm font-weight-medium mb-0"},Le={class:"text-caption"},Ne={class:"text-center"},Re={style:{width:"8rem"}},Ue=e("tr",null,[e("td",{colspan:"8",class:"text-center text-body-1"}," No data available ")],-1),ze=[Ue],Fe={class:"d-flex align-center",style:{width:"171px"}},Me=e("span",{class:"text-no-wrap text-sm me-3"},"Rows per page:",-1),Oe={class:"d-flex align-center"},je={class:"text-sm font-weight-regular"},It=K({__name:"index",setup(qe){const F=oe(),x=c(""),_=c(""),V=c(),p=c(10),d=c(1),g=c(1),P=c(0),u=c([]),i=c([]),v=c(!1);B(()=>{const[l,o]=_.value?_.value.split("to"):"";F.fetchInvoices({q:x.value,status:V.value,perPage:p.value,currentPage:d.value,startDate:l,endDate:o}).then(m=>{u.value=m.data.invoices,g.value=m.data.totalPage,P.value=m.data.totalInvoices}).catch(m=>{console.log(m)})}),B(()=>{d.value>g.value&&(d.value=g.value)});const M=T(()=>{const l=u.value.length?(d.value-1)*p.value+1:0,o=u.value.length+(d.value-1)*p.value;return`${l}-${o} of ${P.value}`}),S=(l,o)=>l===o?{status:"Unpaid",chip:{color:"error"}}:l===0?{status:"Paid",chip:{color:"success"}}:{status:l,chip:{variant:"text"}},y=l=>l==="Partial Payment"?{variant:"warning",icon:"bx-adjust"}:l==="Paid"?{variant:"success",icon:"bx-check"}:l==="Downloaded"?{variant:"info",icon:"bx-down-arrow-alt"}:l==="Draft"?{variant:"secondary",icon:"bx-save"}:l==="Sent"?{variant:"primary",icon:"bx-envelope"}:l==="Past Due"?{variant:"error",icon:"bx-error-circle"}:{variant:"secondary",icon:"bx-x"},O=()=>{v.value=!v.value,v.value?u.value.forEach(l=>{i.value.includes(`check${l.id}`)||i.value.push(`check${l.id}`)}):i.value=[]};W(i,()=>{i.value.length||(v.value=!1)},{deep:!0});const j=l=>{if(i.value.includes(l)){const o=i.value.indexOf(l);i.value.splice(o,1)}else i.value.push(l),v.value=!0},q=T(()=>l=>[{title:"Download",value:"download",prependIcon:"bx-download"},{title:"Edit",value:"edit",prependIcon:"bx-pencil",to:{name:"apps-invoice-edit-id",params:{id:l}}},{title:"Duplicate",value:"duplicate",prependIcon:"bx-layer"}]);return(l,o)=>{const m=J,H=A("RouterLink"),C=A("IconBtn"),Q=G;return s(u)?(f(),b("section",ve,[a(L,{title:"Filters",class:"mb-6"},{default:n(()=>[a(D,null,{default:n(()=>[a(ne,null,{default:n(()=>[a(N,{cols:"12",md:"6"},{default:n(()=>[a(k,{modelValue:s(V),"onUpdate:modelValue":o[0]||(o[0]=t=>h(V)?V.value=t:null),label:"Select Status",clearable:"","clear-icon":"bx-x",items:["Downloaded","Draft","Sent","Paid","Partial Payment","Past Due"]},null,8,["modelValue"])]),_:1}),a(N,{cols:"12",md:"6"},{default:n(()=>[a(m,{modelValue:s(_),"onUpdate:modelValue":o[1]||(o[1]=t=>h(_)?_.value=t:null),label:"Invoice Date","clear-icon":"bx-x",clearable:"",config:{mode:"range"}},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1}),a(L,{id:"invoice-list"},{default:n(()=>[a(D,{class:"d-flex align-center flex-wrap gap-4"},{default:n(()=>[e("div",_e,[a(k,{density:"compact",label:"Actions",items:["Delete","Edit","Send"],class:"invoice-list-actions",disabled:!s(i).length},null,8,["disabled"])]),a(ie),e("div",fe,[e("div",he,[a(re,{modelValue:s(x),"onUpdate:modelValue":o[2]||(o[2]=t=>h(x)?x.value=t:null),placeholder:"Search Invoice",density:"compact"},null,8,["modelValue"])]),a(X,{to:{name:"apps-invoice-add"}},{default:n(()=>[I(" Create invoice ")]),_:1})])]),_:1}),a(R),a(ce,{class:"text-no-wrap"},{default:n(()=>[e("thead",null,[e("tr",null,[e("th",xe,[e("div",Ve,[a(U,{"model-value":s(v),indeterminate:s(u).length!==s(i).length&&!!s(i).length,onClick:O},null,8,["model-value","indeterminate"])])]),ge,e("th",be,[a(w,{icon:"bx-trending-up"})]),we,ye,Ie,De,ke])]),e("tbody",null,[(f(!0),b(Y,null,Z(s(u),t=>(f(),b("tr",{key:t.id},[e("td",null,[e("div",Pe,[a(U,{id:`check${t.id}`,"model-value":s(i).includes(`check${t.id}`),onClick:$=>j(`check${t.id}`)},null,8,["id","model-value","onClick"])])]),e("td",null,[a(H,{to:{name:"apps-invoice-preview-id",params:{id:t.id}}},{default:n(()=>[I(" #"+r(t.id),1)]),_:2},1032,["to"])]),e("td",null,[a(de,null,{activator:n(({props:$})=>[a(z,E({size:34},$,{color:y(t.invoiceStatus).variant,variant:"tonal"}),{default:n(()=>[a(w,{size:20,icon:y(t.invoiceStatus).icon},null,8,["icon"])]),_:2},1040,["color"])]),default:n(()=>[e("p",Se,r(t.invoiceStatus),1),e("p",Ce," Balance: "+r(t.balance),1),e("p",$e," Due date: "+r(t.dueDate),1)]),_:2},1024)]),e("td",null,[e("div",Be,[a(z,{size:"34",color:y(t.invoiceStatus).variant,variant:"tonal",class:"me-3"},{default:n(()=>[t.avatar.length?(f(),ee(ue,{key:0,src:t.avatar},null,8,["src"])):(f(),b("span",Te,r(s(se)(t.client.name)),1))]),_:2},1032,["color"]),e("div",Ae,[e("h6",Ee,r(t.client.name),1),e("span",Le,r(t.client.companyEmail),1)])])]),e("td",null," $"+r(t.total),1),e("td",null,r(t.issuedDate),1),e("td",Ne,[a(me,E(S(t.balance,t.total).chip,{density:"compact"}),{default:n(()=>[I(r(S(t.balance,t.total).status),1)]),_:2},1040)]),e("td",Re,[a(C,null,{default:n(()=>[a(w,{icon:"bx-trash-alt"})]),_:1}),a(C,{to:{name:"apps-invoice-preview-id",params:{id:t.id}}},{default:n(()=>[a(w,{icon:"bx-show"})]),_:2},1032,["to"]),a(Q,{"menu-list":s(q)(t.id),"item-props":""},null,8,["menu-list"])])]))),128))]),te(e("tfoot",null,ze,512),[[ae,!s(u).length]])]),_:1}),a(R),a(D,{class:"d-flex flex-wrap justify-end gap-4 pa-2"},{default:n(()=>[e("div",Fe,[Me,a(k,{modelValue:s(p),"onUpdate:modelValue":o[3]||(o[3]=t=>h(p)?p.value=t:null),density:"compact",class:"small-select",variant:"plain",items:[10,20,30,50]},null,8,["modelValue"])]),e("div",Oe,[e("h6",je,r(s(M)),1)]),a(pe,{modelValue:s(d),"onUpdate:modelValue":o[4]||(o[4]=t=>h(d)?d.value=t:null),size:"small","total-visible":1,length:s(g),onNext:o[5]||(o[5]=t=>i.value=[]),onPrev:o[6]||(o[6]=t=>i.value=[])},null,8,["modelValue","length"])]),_:1})]),_:1})])):le("",!0)}}});export{It as default};
