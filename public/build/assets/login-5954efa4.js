import{d as T,k as m,ad as j,j as D,r as F,o as q,b as B,w as t,p as e,m as o,q as s,V as E,v as g,R as n,x as y,Z as L,I as V,H as W,a6 as J}from"./main-51fa4cdd.js";import{u as O}from"./useGenerateImageVariant-2066d24a.js";import{u as U}from"./useAppAbility-a2ae44c3.js";import{_ as M}from"./AuthProvider.vue_vue_type_script_setup_true_lang-a0f9a808.js";import{b as $,a as G}from"./boy-with-rocket-light-261b759f.js";import{r as h,e as H}from"./validators-33c369bf.js";import{a as i,V as w}from"./VRow-4863209c.js";import{V as Z}from"./VImg-7efce583.js";import{V as z,a as K,b as Q,d as b}from"./VCard-6736eb7f.js";import{V as X}from"./VAlert-ea301a1d.js";import{V as Y}from"./VForm-b98dc196.js";import{V as k}from"./VTextField-04866304.js";import{V as ee}from"./VCheckbox-05dd61ba.js";import{V as C}from"./VDivider-61df3248.js";import{b as R}from"./route-block-83d24a4e.js";import"./index-681711bc.js";import"./transition-482c18b0.js";import"./VAvatar-57fab9ba.js";import"./VInput-354f6456.js";import"./forwardRefs-8f7055de.js";/* empty css                   */import"./VField-e7393660.js";import"./easing-6b01f2d6.js";import"./VCounter-d16178d6.js";import"./VCheckboxBtn-af15d0af.js";import"./VSelectionControl-3a741587.js";const te={class:"position-relative w-100 pa-8"},se={class:"d-flex align-center justify-center w-100 h-100"},ae={class:"d-flex"},oe={class:"text-h6 mb-1"},le=o("p",{class:"mb-0"}," Please sign-in to your account and start the adventure ",-1),re=o("p",{class:"text-caption mb-2"},[n(" Admin Email: "),o("strong",null,"admin@demo.com"),n(" / Pass: "),o("strong",null,"admin")],-1),ne=o("p",{class:"text-caption mb-0"},[n(" Client Email: "),o("strong",null,"client@demo.com"),n(" / Pass: "),o("strong",null,"client")],-1),ie={class:"d-flex align-center flex-wrap justify-space-between mt-2 mb-6"},me=o("span",null,"New on our platform?",-1),de=o("span",{class:"mx-4"},"or",-1),ue=T({__name:"login",setup(ce){const S=O(G,$),d=m(!1),x=j(),I=D(),N=U(),f=m({email:void 0,password:void 0}),v=m(),u=m("admin@demo.com"),c=m("admin"),_=m(!1),A=()=>{J.post("/auth/login",{email:u.value,password:c.value}).then(r=>{const{accessToken:a,userData:p,userAbilities:l}=r.data;localStorage.setItem("userAbilities",JSON.stringify(l)),N.update(l),localStorage.setItem("userData",JSON.stringify(p)),localStorage.setItem("accessToken",JSON.stringify(a)),I.replace(x.query.to?String(x.query.to):"/")}).catch(r=>{const{errors:a}=r.response.data;f.value=a,console.error(r.response.data)})},P=()=>{var r;(r=v.value)==null||r.validate().then(({valid:a})=>{a&&A()})};return(r,a)=>{const p=F("RouterLink");return q(),B(w,{"no-gutters":"",class:"auth-wrapper"},{default:t(()=>[e(i,{lg:"8",class:"d-none d-lg-flex"},{default:t(()=>[o("div",te,[o("div",se,[e(Z,{"max-width":"700",src:s(S),class:"auth-illustration"},null,8,["src"])])])]),_:1}),e(i,{cols:"12",lg:"4",class:"d-flex align-center justify-center",style:{"background-color":"rgb(var(--v-theme-surface))"}},{default:t(()=>[e(z,{flat:"","max-width":500,class:"mt-12 mt-sm-0 pa-6"},{default:t(()=>[e(K,{class:"justify-start"},{prepend:t(()=>[o("div",ae,[e(s(E),{nodes:s(g).app.logo},null,8,["nodes"])])]),default:t(()=>[e(Q,{class:"auth-title"},{default:t(()=>[n(y(s(g).app.title),1)]),_:1})]),_:1}),e(b,null,{default:t(()=>[o("h6",oe," Welcome to "+y(s(g).app.title)+"! 👋🏻 ",1),le]),_:1}),e(b,null,{default:t(()=>[e(X,{color:"primary",variant:"tonal"},{default:t(()=>[re,ne]),_:1})]),_:1}),e(b,null,{default:t(()=>[e(s(Y),{ref_key:"refVForm",ref:v,onSubmit:L(P,["prevent"])},{default:t(()=>[e(w,null,{default:t(()=>[e(i,{cols:"12"},{default:t(()=>[e(k,{modelValue:s(u),"onUpdate:modelValue":a[0]||(a[0]=l=>V(u)?u.value=l:null),label:"Email",type:"email",rules:[s(h),s(H)],"error-messages":s(f).email},null,8,["modelValue","rules","error-messages"])]),_:1}),e(i,{cols:"12"},{default:t(()=>[e(k,{modelValue:s(c),"onUpdate:modelValue":a[1]||(a[1]=l=>V(c)?c.value=l:null),label:"Password",rules:[s(h)],type:s(d)?"text":"password","error-messages":s(f).password,"append-inner-icon":s(d)?"bx-hide":"bx-show","onClick:appendInner":a[2]||(a[2]=l=>d.value=!s(d))},null,8,["modelValue","rules","type","error-messages","append-inner-icon"]),o("div",ie,[e(ee,{modelValue:s(_),"onUpdate:modelValue":a[3]||(a[3]=l=>V(_)?_.value=l:null),label:"Remember me"},null,8,["modelValue"]),e(p,{class:"text-primary text-sm ms-2 mb-1",to:{name:"forgot-password"}},{default:t(()=>[n(" Forgot Password? ")]),_:1})]),e(W,{block:"",type:"submit",class:"mb-1"},{default:t(()=>[n(" Login ")]),_:1})]),_:1}),e(i,{cols:"12",class:"text-center"},{default:t(()=>[me,e(p,{class:"text-primary ms-2",to:{name:"register"}},{default:t(()=>[n(" Create an account ")]),_:1})]),_:1}),e(i,{cols:"12",class:"d-flex align-center"},{default:t(()=>[e(C),de,e(C)]),_:1}),e(i,{cols:"12",class:"text-center"},{default:t(()=>[e(M)]),_:1})]),_:1})]),_:1},8,["onSubmit"])]),_:1})]),_:1})]),_:1})]),_:1})}}});typeof R=="function"&&R(ue);export{ue as default};
